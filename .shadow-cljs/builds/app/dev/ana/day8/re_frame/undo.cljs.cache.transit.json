["^ ","~:output",["^ ","~:js","goog.provide('day8.re_frame.undo');\ngoog.require('cljs.core');\ngoog.require('reagent.core');\ngoog.require('re_frame.core');\ngoog.require('re_frame.db');\nday8.re_frame.undo.config = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,\"max-undos\",\"max-undos\",-911142923),(50),new cljs.core.Keyword(null,\"harvest-fn\",\"harvest-fn\",9140059),cljs.core.deref,new cljs.core.Keyword(null,\"reinstate-fn\",\"reinstate-fn\",1996128442),cljs.core.reset_BANG_], null));\n/**\n * Set configuration parameters for library.\n * \n *   Should be called on app startup.\n */\nday8.re_frame.undo.undo_config_BANG_ = (function day8$re_frame$undo$undo_config_BANG_(new_config){\nvar temp__5733__auto__ = cljs.core.seq(clojure.set.difference.cljs$core$IFn$_invoke$arity$2(cljs.core.set(cljs.core.keys(new_config)),cljs.core.set(cljs.core.keys(cljs.core.deref(day8.re_frame.undo.config)))));\nif(temp__5733__auto__){\nvar unknown_keys = temp__5733__auto__;\nvar G__42112 = new cljs.core.Keyword(null,\"error\",\"error\",-978969032);\nvar G__42113 = \"re-frame-undo: undo-config! called within unknown keys: \";\nvar G__42114 = unknown_keys;\nreturn (re_frame.core.console.cljs$core$IFn$_invoke$arity$3 ? re_frame.core.console.cljs$core$IFn$_invoke$arity$3(G__42112,G__42113,G__42114) : re_frame.core.console.call(null,G__42112,G__42113,G__42114));\n} else {\nreturn cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3(day8.re_frame.undo.config,cljs.core.merge,new_config);\n}\n});\nday8.re_frame.undo.max_undos = (function day8$re_frame$undo$max_undos(){\nreturn new cljs.core.Keyword(null,\"max-undos\",\"max-undos\",-911142923).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(day8.re_frame.undo.config));\n});\n/**\n * A list of history states\n */\nday8.re_frame.undo.undo_list = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentVector.EMPTY);\n/**\n * A list of future states, caused by undoing\n */\nday8.re_frame.undo.redo_list = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentVector.EMPTY);\n/**\n * Mirrors app-db\n */\nday8.re_frame.undo.app_explain = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(\"\");\n/**\n * Mirrors undo-list\n */\nday8.re_frame.undo.undo_explain_list = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentVector.EMPTY);\n/**\n * Mirrors redo-list\n */\nday8.re_frame.undo.redo_explain_list = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentVector.EMPTY);\nday8.re_frame.undo.clear_undos_BANG_ = (function day8$re_frame$undo$clear_undos_BANG_(){\ncljs.core.reset_BANG_(day8.re_frame.undo.undo_list,cljs.core.PersistentVector.EMPTY);\n\nreturn cljs.core.reset_BANG_(day8.re_frame.undo.undo_explain_list,cljs.core.PersistentVector.EMPTY);\n});\nday8.re_frame.undo.clear_redos_BANG_ = (function day8$re_frame$undo$clear_redos_BANG_(){\ncljs.core.reset_BANG_(day8.re_frame.undo.redo_list,cljs.core.PersistentVector.EMPTY);\n\nreturn cljs.core.reset_BANG_(day8.re_frame.undo.redo_explain_list,cljs.core.PersistentVector.EMPTY);\n});\nday8.re_frame.undo.clear_history_BANG_ = (function day8$re_frame$undo$clear_history_BANG_(){\nday8.re_frame.undo.clear_undos_BANG_();\n\nday8.re_frame.undo.clear_redos_BANG_();\n\nreturn cljs.core.reset_BANG_(day8.re_frame.undo.app_explain,\"\");\n});\n/**\n * Stores the value currently in app-db, so the user can later undo\n */\nday8.re_frame.undo.store_now_BANG_ = (function day8$re_frame$undo$store_now_BANG_(explanation){\nday8.re_frame.undo.clear_redos_BANG_();\n\ncljs.core.reset_BANG_(day8.re_frame.undo.undo_list,cljs.core.vec(cljs.core.take_last(day8.re_frame.undo.max_undos(),cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(day8.re_frame.undo.undo_list),(function (){var fexpr__42115 = new cljs.core.Keyword(null,\"harvest-fn\",\"harvest-fn\",9140059).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(day8.re_frame.undo.config));\nreturn (fexpr__42115.cljs$core$IFn$_invoke$arity$1 ? fexpr__42115.cljs$core$IFn$_invoke$arity$1(re_frame.db.app_db) : fexpr__42115.call(null,re_frame.db.app_db));\n})()))));\n\ncljs.core.reset_BANG_(day8.re_frame.undo.undo_explain_list,cljs.core.vec(cljs.core.take_last(day8.re_frame.undo.max_undos(),cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(day8.re_frame.undo.undo_explain_list),cljs.core.deref(day8.re_frame.undo.app_explain)))));\n\nreturn cljs.core.reset_BANG_(day8.re_frame.undo.app_explain,explanation);\n});\n/**\n * Returns true if undos exist, false otherwise\n */\nday8.re_frame.undo.undos_QMARK_ = (function day8$re_frame$undo$undos_QMARK_(){\nreturn cljs.core.seq(cljs.core.deref(day8.re_frame.undo.undo_list));\n});\n/**\n * Returns true if redos exist, false otherwise\n */\nday8.re_frame.undo.redos_QMARK_ = (function day8$re_frame$undo$redos_QMARK_(){\nreturn cljs.core.seq(cljs.core.deref(day8.re_frame.undo.redo_list));\n});\n/**\n * Returns a vector of undo descriptions, perhaps empty\n */\nday8.re_frame.undo.undo_explanations = (function day8$re_frame$undo$undo_explanations(){\nif(day8.re_frame.undo.undos_QMARK_()){\nreturn cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(day8.re_frame.undo.undo_explain_list),cljs.core.deref(day8.re_frame.undo.app_explain));\n} else {\nreturn cljs.core.PersistentVector.EMPTY;\n}\n});\nre_frame.core.reg_sub_raw(new cljs.core.Keyword(null,\"undos?\",\"undos?\",-1094259081),(function day8$re_frame$undo$handler(_,___$1){\nreturn reagent.ratom.make_reaction((function (){\nreturn day8.re_frame.undo.undos_QMARK_();\n}));\n}));\nre_frame.core.reg_sub_raw(new cljs.core.Keyword(null,\"redos?\",\"redos?\",1340247550),(function day8$re_frame$undo$handler(_,___$1){\nreturn reagent.ratom.make_reaction((function (){\nreturn day8.re_frame.undo.redos_QMARK_();\n}));\n}));\nre_frame.core.reg_sub_raw(new cljs.core.Keyword(null,\"undo-explanations\",\"undo-explanations\",942251259),(function day8$re_frame$undo$handler(_,___$1){\nreturn reagent.ratom.make_reaction((function (){\nreturn day8.re_frame.undo.undo_explanations();\n}));\n}));\nre_frame.core.reg_sub_raw(new cljs.core.Keyword(null,\"redo-explanations\",\"redo-explanations\",-1933832741),(function day8$re_frame$undo$handler(_,___$1){\nreturn reagent.ratom.make_reaction((function (){\nreturn cljs.core.deref(day8.re_frame.undo.redo_explain_list);\n}));\n}));\nday8.re_frame.undo.undo = (function day8$re_frame$undo$undo(harvester,reinstater,undos,cur,redos){\nvar u = cljs.core.deref(undos);\nvar r = cljs.core.cons((harvester.cljs$core$IFn$_invoke$arity$1 ? harvester.cljs$core$IFn$_invoke$arity$1(cur) : harvester.call(null,cur)),cljs.core.deref(redos));\nvar G__42133_42182 = cur;\nvar G__42134_42183 = cljs.core.last(u);\n(reinstater.cljs$core$IFn$_invoke$arity$2 ? reinstater.cljs$core$IFn$_invoke$arity$2(G__42133_42182,G__42134_42183) : reinstater.call(null,G__42133_42182,G__42134_42183));\n\ncljs.core.reset_BANG_(redos,r);\n\nreturn cljs.core.reset_BANG_(undos,cljs.core.pop(u));\n});\n/**\n * undo n steps or until we run out of undos\n */\nday8.re_frame.undo.undo_n = (function day8$re_frame$undo$undo_n(n){\nwhile(true){\nif((((n > (0))) && (day8.re_frame.undo.undos_QMARK_()))){\nday8.re_frame.undo.undo(new cljs.core.Keyword(null,\"harvest-fn\",\"harvest-fn\",9140059).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(day8.re_frame.undo.config)),new cljs.core.Keyword(null,\"reinstate-fn\",\"reinstate-fn\",1996128442).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(day8.re_frame.undo.config)),day8.re_frame.undo.undo_list,re_frame.db.app_db,day8.re_frame.undo.redo_list);\n\nday8.re_frame.undo.undo(cljs.core.deref,cljs.core.reset_BANG_,day8.re_frame.undo.undo_explain_list,day8.re_frame.undo.app_explain,day8.re_frame.undo.redo_explain_list);\n\nvar G__42186 = (n - (1));\nn = G__42186;\ncontinue;\n} else {\nreturn null;\n}\nbreak;\n}\n});\nday8.re_frame.undo.undo_handler = (function day8$re_frame$undo$undo_handler(_,p__42135){\nvar vec__42137 = p__42135;\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__42137,(0),null);\nvar n = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__42137,(1),null);\nif(cljs.core.not(day8.re_frame.undo.undos_QMARK_())){\nvar G__42140_42187 = new cljs.core.Keyword(null,\"warn\",\"warn\",-436710552);\nvar G__42141_42188 = \"re-frame: you did a (dispatch [:undo]), but there is nothing to undo.\";\n(re_frame.core.console.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.console.cljs$core$IFn$_invoke$arity$2(G__42140_42187,G__42141_42188) : re_frame.core.console.call(null,G__42140_42187,G__42141_42188));\n} else {\nday8.re_frame.undo.undo_n((function (){var or__4185__auto__ = n;\nif(cljs.core.truth_(or__4185__auto__)){\nreturn or__4185__auto__;\n} else {\nreturn (1);\n}\n})());\n}\n\nreturn cljs.core.PersistentArrayMap.EMPTY;\n});\nday8.re_frame.undo.redo = (function day8$re_frame$undo$redo(harvester,reinstater,undos,cur,redos){\nvar u = cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(undos),(harvester.cljs$core$IFn$_invoke$arity$1 ? harvester.cljs$core$IFn$_invoke$arity$1(cur) : harvester.call(null,cur)));\nvar r = cljs.core.deref(redos);\nvar G__42143_42190 = cur;\nvar G__42144_42191 = cljs.core.first(r);\n(reinstater.cljs$core$IFn$_invoke$arity$2 ? reinstater.cljs$core$IFn$_invoke$arity$2(G__42143_42190,G__42144_42191) : reinstater.call(null,G__42143_42190,G__42144_42191));\n\ncljs.core.reset_BANG_(redos,cljs.core.rest(r));\n\nreturn cljs.core.reset_BANG_(undos,u);\n});\n/**\n * redo n steps or until we run out of redos\n */\nday8.re_frame.undo.redo_n = (function day8$re_frame$undo$redo_n(n){\nwhile(true){\nif((((n > (0))) && (day8.re_frame.undo.redos_QMARK_()))){\nday8.re_frame.undo.redo(new cljs.core.Keyword(null,\"harvest-fn\",\"harvest-fn\",9140059).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(day8.re_frame.undo.config)),new cljs.core.Keyword(null,\"reinstate-fn\",\"reinstate-fn\",1996128442).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(day8.re_frame.undo.config)),day8.re_frame.undo.undo_list,re_frame.db.app_db,day8.re_frame.undo.redo_list);\n\nday8.re_frame.undo.redo(cljs.core.deref,cljs.core.reset_BANG_,day8.re_frame.undo.undo_explain_list,day8.re_frame.undo.app_explain,day8.re_frame.undo.redo_explain_list);\n\nvar G__42193 = (n - (1));\nn = G__42193;\ncontinue;\n} else {\nreturn null;\n}\nbreak;\n}\n});\nday8.re_frame.undo.redo_handler = (function day8$re_frame$undo$redo_handler(_,p__42148){\nvar vec__42149 = p__42148;\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__42149,(0),null);\nvar n = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__42149,(1),null);\nif(cljs.core.not(day8.re_frame.undo.redos_QMARK_())){\nvar G__42152_42194 = new cljs.core.Keyword(null,\"warn\",\"warn\",-436710552);\nvar G__42153_42195 = \"re-frame: you did a (dispatch [:redo]), but there is nothing to redo.\";\n(re_frame.core.console.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.console.cljs$core$IFn$_invoke$arity$2(G__42152_42194,G__42153_42195) : re_frame.core.console.call(null,G__42152_42194,G__42153_42195));\n} else {\nday8.re_frame.undo.redo_n((function (){var or__4185__auto__ = n;\nif(cljs.core.truth_(or__4185__auto__)){\nreturn or__4185__auto__;\n} else {\nreturn (1);\n}\n})());\n}\n\nreturn cljs.core.PersistentArrayMap.EMPTY;\n});\nday8.re_frame.undo.purge_redo_handler = (function day8$re_frame$undo$purge_redo_handler(db,_){\nif(cljs.core.not(day8.re_frame.undo.redos_QMARK_())){\nvar G__42154_42197 = new cljs.core.Keyword(null,\"warn\",\"warn\",-436710552);\nvar G__42155_42198 = \"re-frame: you did a (dispatch [:purge-redos]), but there is nothing to redo.\";\n(re_frame.core.console.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.console.cljs$core$IFn$_invoke$arity$2(G__42154_42197,G__42155_42198) : re_frame.core.console.call(null,G__42154_42197,G__42155_42198));\n} else {\nday8.re_frame.undo.clear_redos_BANG_();\n}\n\nreturn db;\n});\n/**\n * returns a side-effecting Interceptor, which stores an undo checkpoint in\n *   `:after` processing.\n * If the `:effect` cotnains an `:undo` key, then use the explanation provided\n * by it. Otherwise, `explanation` can be:\n *   - a string (of explanation)\n *   - a function expected to return a string of explanation. It will be called\n *     with two arguments: `db` and `event-vec`.\n *   - a nil, in which case \"\" is recorded as the explanation\n *   \n */\nday8.re_frame.undo.undoable = (function day8$re_frame$undo$undoable(var_args){\nvar G__42157 = arguments.length;\nswitch (G__42157) {\ncase 0:\nreturn day8.re_frame.undo.undoable.cljs$core$IFn$_invoke$arity$0();\n\nbreak;\ncase 1:\nreturn day8.re_frame.undo.undoable.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\n\nbreak;\ndefault:\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\n\n}\n});\n\n(day8.re_frame.undo.undoable.cljs$core$IFn$_invoke$arity$0 = (function (){\nreturn day8.re_frame.undo.undoable.cljs$core$IFn$_invoke$arity$1(null);\n}));\n\n(day8.re_frame.undo.undoable.cljs$core$IFn$_invoke$arity$1 = (function (explanation){\nvar G__42158 = new cljs.core.Keyword(null,\"id\",\"id\",-1388402092);\nvar G__42159 = new cljs.core.Keyword(null,\"undoable\",\"undoable\",303475882);\nvar G__42160 = new cljs.core.Keyword(null,\"after\",\"after\",594996914);\nvar G__42161 = (function (context){\nvar event = (function (){var G__42162 = context;\nvar G__42163 = new cljs.core.Keyword(null,\"event\",\"event\",301435442);\nreturn (re_frame.core.get_coeffect.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.get_coeffect.cljs$core$IFn$_invoke$arity$2(G__42162,G__42163) : re_frame.core.get_coeffect.call(null,G__42162,G__42163));\n})();\nvar undo_effect = (function (){var G__42164 = context;\nvar G__42165 = new cljs.core.Keyword(null,\"undo\",\"undo\",-1818036302);\nreturn (re_frame.core.get_effect.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.get_effect.cljs$core$IFn$_invoke$arity$2(G__42164,G__42165) : re_frame.core.get_effect.call(null,G__42164,G__42165));\n})();\nvar explanation__$1 = (((!((undo_effect == null))))?undo_effect:((cljs.core.fn_QMARK_(explanation))?(function (){var G__42166 = (function (){var G__42168 = context;\nvar G__42169 = new cljs.core.Keyword(null,\"db\",\"db\",993250759);\nreturn (re_frame.core.get_coeffect.cljs$core$IFn$_invoke$arity$2 ? re_frame.core.get_coeffect.cljs$core$IFn$_invoke$arity$2(G__42168,G__42169) : re_frame.core.get_coeffect.call(null,G__42168,G__42169));\n})();\nvar G__42167 = event;\nreturn (explanation.cljs$core$IFn$_invoke$arity$2 ? explanation.cljs$core$IFn$_invoke$arity$2(G__42166,G__42167) : explanation.call(null,G__42166,G__42167));\n})():((typeof explanation === 'string')?explanation:(((explanation == null))?\"\":(function (){var G__42170 = new cljs.core.Keyword(null,\"error\",\"error\",-978969032);\nvar G__42171 = \"re-frame-undo: \\\"undoable\\\" interceptor on event \";\nvar G__42172 = event;\nvar G__42173 = \" given a bad parameter. Got: \";\nvar G__42174 = explanation;\nreturn (re_frame.core.console.cljs$core$IFn$_invoke$arity$5 ? re_frame.core.console.cljs$core$IFn$_invoke$arity$5(G__42170,G__42171,G__42172,G__42173,G__42174) : re_frame.core.console.call(null,G__42170,G__42171,G__42172,G__42173,G__42174));\n})()\n))));\nday8.re_frame.undo.store_now_BANG_(explanation__$1);\n\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$4(context,new cljs.core.Keyword(null,\"effects\",\"effects\",-282369292),cljs.core.dissoc,new cljs.core.Keyword(null,\"undo\",\"undo\",-1818036302));\n});\nreturn (re_frame.core.__GT_interceptor.cljs$core$IFn$_invoke$arity$4 ? re_frame.core.__GT_interceptor.cljs$core$IFn$_invoke$arity$4(G__42158,G__42159,G__42160,G__42161) : re_frame.core.__GT_interceptor.call(null,G__42158,G__42159,G__42160,G__42161));\n}));\n\n(day8.re_frame.undo.undoable.cljs$lang$maxFixedArity = 1);\n\nday8.re_frame.undo.register_events_subs_BANG_ = (function day8$re_frame$undo$register_events_subs_BANG_(){\nre_frame.core.reg_event_fx.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"undo\",\"undo\",-1818036302),day8.re_frame.undo.undo_handler);\n\nre_frame.core.reg_event_fx.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"redo\",\"redo\",501190664),day8.re_frame.undo.redo_handler);\n\nreturn re_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"purge-redos\",\"purge-redos\",1815721624),day8.re_frame.undo.purge_redo_handler);\n});\nday8.re_frame.undo.register_events_subs_BANG_();\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","day8/re_frame/undo.cljs","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",23],"~:ns-aliases",["^ ","~$cljs.loader","~$shadow.loader","~$react","~$module$node_modules$react$index","~$create-react-class","~$module$node_modules$create_react_class$index","~$react-dom","~$module$node_modules$react_dom$index"],"~:use-macros",["^ ","~$reaction","~$reagent.ratom"],"~:excludes",["~#set",[]],"~:name","~$day8.re-frame.undo","~:op","~:ns","~:imports",null,"~:requires",["^ ","~$reagent.core","^O","~$reagent","^O","~$re-frame.core","^Q","~$re-frame","^Q","~$re-frame.db","^S","~$cljs.core","^T","~$goog","^U"],"~:seen",["^H",["~:require","~:require-macros"]],"~:uses",["^ ","~$app-db","^S"],"^X",["^ ","^F","^F","^T","^T","^O","^O","^P","^O"],"~:form",["~#list",["~$ns","^J",["^10",["^X",["^F","~:refer",["^E"]]]],["^10",["^W",["^O","~:as","^P"],["^Q","^13","^R"],["^S","^12",["^Z"]]]]]],"~:flags",["^ ","^X",["^H",[]],"^W",["^H",[]]],"~:js-deps",["^ "],"~:deps",["^U","^T","^O","^Q","^S"]],"^L","^J","~:resource-id",["~:shadow.build.classpath/resource","day8/re_frame/undo.cljs"],"~:compiled-at",1579251830892,"~:resource-name","day8/re_frame/undo.cljs","~:warnings",[],"~:source","(ns day8.re-frame.undo\n  (:require-macros [reagent.ratom  :refer [reaction]])\n  (:require\n    [reagent.core        :as     reagent]\n    [re-frame.core       :as     re-frame]\n    [re-frame.db         :refer  [app-db]]))\n\n\n;; -- Configuration ----------------------------------------------------------\n\n(def config (atom {:max-undos    50   ;; Maximum number of undo states maintained\n                   :harvest-fn   deref\n                   :reinstate-fn reset!}))\n\n(defn undo-config!\n  \"Set configuration parameters for library.\n\n  Should be called on app startup.\"\n  [new-config]\n  (if-let [unknown-keys (seq (clojure.set/difference\n                               (-> new-config keys set)\n                               (-> @config keys set)))]\n    (re-frame/console :error \"re-frame-undo: undo-config! called within unknown keys: \" unknown-keys)\n    (swap! config merge new-config)))\n\n\n(defn max-undos\n  []\n  (:max-undos @config))\n\n\n\n;; -- State history ----------------------------------------------------------\n\n(def undo-list \"A list of history states\" (reagent/atom []))\n(def redo-list \"A list of future states, caused by undoing\" (reagent/atom []))\n\n;; -- Explanations -----------------------------------------------------------\n;;\n;; Each undo has an associated string explanation, for display to the user.\n;;\n;; It seems ugly to have mirrored vectors, but ...\n;; the code kinda falls out when you do. I'm feeling lazy.\n(def app-explain \"Mirrors app-db\" (reagent/atom \"\"))\n(def undo-explain-list \"Mirrors undo-list\" (reagent/atom []))\n(def redo-explain-list \"Mirrors redo-list\" (reagent/atom []))\n\n(defn clear-undos!\n  []\n  (reset! undo-list [])\n  (reset! undo-explain-list []))\n\n\n(defn clear-redos!\n  []\n  (reset! redo-list [])\n  (reset! redo-explain-list []))\n\n\n(defn clear-history!\n  []\n  (clear-undos!)\n  (clear-redos!)\n  (reset! app-explain \"\"))\n\n\n(defn store-now!\n  \"Stores the value currently in app-db, so the user can later undo\"\n  [explanation]\n  (clear-redos!)\n  (reset! undo-list (vec (take-last\n                           (max-undos)\n                           (conj @undo-list ((:harvest-fn @config) app-db)))))\n  (reset! undo-explain-list (vec (take-last\n                                   (max-undos)\n                                   (conj @undo-explain-list @app-explain))))\n  (reset! app-explain explanation))\n\n\n(defn undos?\n  \"Returns true if undos exist, false otherwise\"\n  []\n  (seq @undo-list))\n\n(defn redos?\n  \"Returns true if redos exist, false otherwise\"\n  []\n  (seq @redo-list))\n\n(defn undo-explanations\n  \"Returns a vector of undo descriptions, perhaps empty\"\n  []\n  (if (undos?)\n    (conj @undo-explain-list @app-explain)\n    []))\n\n;; -- subscriptions  -----------------------------------------------------------------------------\n\n(re-frame/reg-sub-raw\n  :undos?                   ;;  usage:  (subscribe [:undos?])\n  (fn handler\n    ; \"returns true if anything is stored in the undo list, otherwise false\"\n    [_ _]\n    (reaction (undos?))))\n\n(re-frame/reg-sub-raw\n  :redos?\n  (fn handler\n    ; \"returns true if anything is stored in the redo list, otherwise false\"\n    [_ _]\n    (reaction (redos?))))\n\n\n(re-frame/reg-sub-raw\n  :undo-explanations\n  (fn handler\n    ; \"returns a vector of string explanations ordered oldest to most recent\"\n    [_ _]\n    (reaction (undo-explanations))))\n\n(re-frame/reg-sub-raw\n  :redo-explanations\n  (fn handler\n    ; \"returns a vector of string explanations ordered from most recent undo onward\"\n    [_ _]\n    (reaction (deref redo-explain-list))))\n\n;; -- event handlers  ----------------------------------------------------------------------------\n\n\n(defn undo\n  [harvester reinstater undos cur redos]\n  (let [u @undos\n        r (cons (harvester cur) @redos)]\n    (reinstater cur (last u))\n    (reset! redos r)\n    (reset! undos (pop u))))\n\n\n(defn undo-n\n  \"undo n steps or until we run out of undos\"\n  [n]\n  (when (and (pos? n) (undos?))\n    (undo (:harvest-fn @config) (:reinstate-fn @config) undo-list app-db redo-list)\n    (undo deref reset! undo-explain-list app-explain redo-explain-list)\n    (recur (dec n))))\n\n(defn undo-handler\n  [_ [_ n]]\n  (if-not (undos?)\n    (re-frame/console :warn \"re-frame: you did a (dispatch [:undo]), but there is nothing to undo.\")\n    (undo-n (or n 1)))\n  {}) ; work is done directly on app-db\n\n(defn redo\n  [harvester reinstater undos cur redos]\n  (let [u (conj @undos (harvester cur))\n        r  @redos]\n    (reinstater cur (first r))\n    (reset! redos (rest r))\n    (reset! undos u)))\n\n(defn redo-n\n  \"redo n steps or until we run out of redos\"\n  [n]\n  (when (and (pos? n) (redos?))\n    (redo (:harvest-fn @config) (:reinstate-fn @config) undo-list app-db redo-list)\n    (redo deref reset! undo-explain-list app-explain redo-explain-list)\n    (recur (dec n))))\n\n(defn redo-handler\n  [_ [_ n]]  ;; if n absent, defaults to 1\n    (if-not (redos?)\n      (re-frame/console :warn \"re-frame: you did a (dispatch [:redo]), but there is nothing to redo.\")\n      (redo-n (or n 1)))\n    {})      ; work is done directly on app-db\n\n(defn purge-redo-handler\n  [db _]\n  (if-not (redos?)\n    (re-frame/console :warn \"re-frame: you did a (dispatch [:purge-redos]), but there is nothing to redo.\")\n    (clear-redos!))\n  db)\n\n\n;; -- Interceptors ----------------------------------------------------------\n\n(defn undoable\n  \"returns a side-effecting Interceptor, which stores an undo checkpoint in\n  `:after` processing.\n   If the `:effect` cotnains an `:undo` key, then use the explanation provided\n   by it. Otherwise, `explanation` can be:\n     - a string (of explanation)\n     - a function expected to return a string of explanation. It will be called\n       with two arguments: `db` and `event-vec`.\n     - a nil, in which case \\\"\\\" is recorded as the explanation\n  \"\n  ([] (undoable nil))\n  ([explanation]\n      (re-frame/->interceptor\n        :id     :undoable\n        :after  (fn [context]\n                  (let [event        (re-frame/get-coeffect context :event)\n                        undo-effect  (re-frame/get-effect context :undo)\n                        explanation (cond\n                                      (some? undo-effect)   undo-effect\n                                      (fn? explanation)     (explanation\n                                                              (re-frame/get-coeffect context :db)\n                                                              event)\n                                      (string? explanation) explanation\n                                      (nil? explanation)    \"\"\n                                      :else (re-frame/console :error \"re-frame-undo: \\\"undoable\\\" interceptor on event \" event \" given a bad parameter. Got: \" explanation))]\n                    (store-now! explanation)\n                    (update context :effects dissoc :undo))))))   ;; remove any `:undo` effect. Already handled.\n\n\n;; -- register handlers for events and subscriptions\n\n\n(defn register-events-subs!\n  []\n  (re-frame/reg-event-fx\n    :undo                     ;; usage:  (dispatch [:undo n])  n is optional, defaults to 1\n    undo-handler)\n  (re-frame/reg-event-fx\n    :redo                     ;; usage:  (dispatch [:redo n])\n    redo-handler)\n  (re-frame/reg-event-db\n    :purge-redos              ;; usage:  (dispatch [:purge-redos])\n    purge-redo-handler))\n\n(register-events-subs!)\n","~:reader-features",["^H",["~:cljs"]],"~:cljc",false,"~:source-map-compact",["^ ","mappings","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","names",["day8.re-frame.undo/config","cljs.core.atom.cljs$core$IFn$_invoke$arity$1","cljs.core/deref","cljs.core/reset!","day8.re-frame.undo/undo-config!","new-config","temp__5733__auto__","unknown-keys","cljs.core/seq","clojure.set.difference.cljs$core$IFn$_invoke$arity$2","cljs.core/keys","cljs.core/set","G__42112","G__42113","G__42114","re-frame.core/console","cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3","cljs.core/merge","day8.re-frame.undo/max-undos","day8.re-frame.undo/undo-list","reagent.core.atom.cljs$core$IFn$_invoke$arity$1","day8.re-frame.undo/redo-list","day8.re-frame.undo/app-explain","day8.re-frame.undo/undo-explain-list","day8.re-frame.undo/redo-explain-list","day8.re-frame.undo/clear-undos!","day8.re-frame.undo/clear-redos!","day8.re-frame.undo/clear-history!","day8.re-frame.undo/store-now!","explanation","cljs.core/vec","cljs.core/take-last","cljs.core.conj.cljs$core$IFn$_invoke$arity$2","fexpr__42115","re-frame.db/app-db","day8.re-frame.undo/undos?","day8.re-frame.undo/redos?","day8.re-frame.undo/undo-explanations","re-frame.core/reg-sub-raw","_","reagent.ratom/make-reaction","day8.re-frame.undo/undo","harvester","reinstater","undos","cur","redos","u","r","cljs.core/cons","G__42133","G__42134","cljs.core/last","cljs.core/pop","day8.re-frame.undo/undo-n","n","p__42135","vec__42137","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","day8.re-frame.undo/undo-handler","cljs.core/not","G__42140","G__42141","or__4185__auto__","day8.re-frame.undo/redo","G__42143","G__42144","cljs.core/first","cljs.core/rest","day8.re-frame.undo/redo-n","p__42148","vec__42149","day8.re-frame.undo/redo-handler","G__42152","G__42153","day8.re-frame.undo/purge-redo-handler","db","G__42154","G__42155","var_args","G__42157","day8.re-frame.undo/undoable","js/Error","day8.re_frame.undo.undoable.cljs$core$IFn$_invoke$arity$1","G__42158","G__42159","G__42160","G__42161","re-frame.core/->interceptor","context","event","G__42162","G__42163","re-frame.core/get-coeffect","undo-effect","G__42164","G__42165","re-frame.core/get-effect","cljs.core/fn?","G__42166","G__42167","G__42168","G__42169","G__42170","G__42171","G__42172","G__42173","G__42174","cljs.core.update.cljs$core$IFn$_invoke$arity$4","cljs.core/dissoc","day8.re-frame.undo/register-events-subs!","re_frame.core.reg_event_fx.cljs$core$IFn$_invoke$arity$2","re_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2"]]],"~:cache-keys",["~#cmap",[["~:shadow.build.npm/resource","node_modules/react-dom/index.js"],[1576480117000,1576480117000,499162500000,"~:shadow.build.compiler/resolve",["^ ","~:require-id",null,"~:deps-ids",["^H",[]],"~:deps-syms",["~$shadow.js","~$module$node_modules$react_dom$cjs$react_dom_production_min","~$module$node_modules$react_dom$cjs$react_dom_development"]]],["^18","reagent/impl/batching.cljs"],[1572644390617,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","~$reagent.debug","~$reagent.interop","~$reagent.impl.util","~$clojure.string"]]],["^18","goog/dom/tagname.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","~$goog.dom.HtmlElement"]]],["^18","day8/re_frame/undo.cljs"],[1572644400009,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^O","^Q","^S"]]],["^18","goog/labs/useragent/platform.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","~$goog.labs.userAgent.util","~$goog.string"]]],["^18","goog/math/math.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","~$goog.array","~$goog.asserts"]]],["^18","goog/html/trustedtypes.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U"]]],["^18","goog/labs/useragent/browser.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1T","^1R","~$goog.object","~$goog.string.internal"]]],["^18","goog/html/safeurl.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1U","~$goog.fs.url","~$goog.html.TrustedResourceUrl","~$goog.i18n.bidi.Dir","~$goog.i18n.bidi.DirectionalString","~$goog.string.Const","~$goog.string.TypedString","^1W"]]],["^18","re_frame/loggers.cljc"],[1572644389801,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","~$clojure.set"]]],["^18","goog/array/array.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1U"]]],["^1E","node_modules/prop-types/checkPropTypes.js"],[1576480117000,1576480117000,1549836454000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J","~$module$node_modules$prop_types$lib$ReactPropTypesSecret"]]],["^18","reagent/impl/util.cljs"],[1572644390617,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^1M","^1N","^1P"]]],["^18","goog/useragent/useragent.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","~$goog.labs.userAgent.browser","~$goog.labs.userAgent.engine","~$goog.labs.userAgent.platform","^1R","~$goog.reflect","^1S"]]],["^18","re_frame/router.cljc"],[1572644389801,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","~$re-frame.events","~$re-frame.interop","~$re-frame.loggers","~$re-frame.trace"]]],["^1E","node_modules/fbjs/lib/emptyFunction.js"],[1576480117000,1576480117000,1528785402000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J"]]],["^18","goog/debug/error.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U"]]],["^18","re_frame/registrar.cljc"],[1572644389801,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^29","^2:"]]],["^1E","node_modules/fbjs/lib/emptyObject.js"],[1576480117000,1576480117000,1528785402000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J"]]],["^18","goog/dom/nodetype.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U"]]],["^1E","node_modules/scheduler/cjs/scheduler.development.js"],[1576480117000,1576480117000,499162500000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J"]]],["^18","reagent/ratom.cljs"],[1572644390617,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^1O","^1M","~$reagent.impl.batching","^22"]]],["^1E","node_modules/scheduler/cjs/scheduler.production.min.js"],[1576480117000,1576480117000,499162500000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J"]]],["^18","re_frame/interop.cljs"],[1572644389801,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","~$goog.async.nextTick","^O","^F"]]],["^18","goog/string/typedstring.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U"]]],["^1E","node_modules/scheduler/cjs/scheduler-tracing.production.min.js"],[1576480117000,1576480117000,499162500000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J"]]],["^1E","node_modules/create-react-class/factory.js"],[1576480117000,1576480117000,1517346959000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J","~$module$node_modules$object_assign$index","~$module$node_modules$fbjs$lib$emptyObject","~$module$node_modules$fbjs$lib$invariant","~$module$node_modules$fbjs$lib$warning"]]],["^1E","node_modules/react/index.js"],[1576480117000,1576480117000,499162500000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J","~$module$node_modules$react$cjs$react_production_min","~$module$node_modules$react$cjs$react_development"]]],["^18","shadow/js.js"],[1576480117002,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U"]]],["^18","goog/object/object.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U"]]],["^18","reagent/impl/template.cljs"],[1572644390617,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^?","^1P","~$clojure.walk","^1O","~$reagent.impl.component","^2<","^F","^1N","^1M"]]],["^18","goog/dom/asserts.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1U"]]],["^1E","node_modules/react-dom/cjs/react-dom.production.min.js"],[1576480117000,1576480117000,499162500000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J","^?","^2>","~$module$node_modules$scheduler$index"]]],"~:SHADOW-TIMESTAMP",[1576480117000,1575939134000],["^1E","node_modules/react/cjs/react.development.js"],[1576480117000,1576480117000,499162500000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J","^2>","~$module$node_modules$prop_types$checkPropTypes"]]],["^18","re_frame/events.cljc"],[1572644389801,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^S","~$re-frame.utils","^29","~$re-frame.registrar","^2:","~$re-frame.interceptor","^2;"]]],["^18","goog/math/long.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1U","^27"]]],["^18","goog/html/trustedresourceurl.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1U","~$goog.html.trustedtypes","^1Z","^1[","^20","^21"]]],["^18","goog/string/internal.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U"]]],["^1E","node_modules/scheduler/cjs/scheduler-tracing.development.js"],[1576480117000,1576480117000,499162500000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J"]]],["^1E","node_modules/fbjs/lib/warning.js"],[1576480117000,1576480117000,1528785401000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J","~$module$node_modules$fbjs$lib$emptyFunction"]]],["^18","goog/functions/functions.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U"]]],["^18","goog/html/safestyle.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1T","^1U","~$goog.html.SafeUrl","^20","^21","^1W"]]],["^18","goog/dom/safe.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1U","~$goog.dom.asserts","~$goog.functions","~$goog.html.SafeHtml","~$goog.html.SafeScript","~$goog.html.SafeStyle","^2N","^1Y","~$goog.html.uncheckedconversions","^20","^1W"]]],["^18","reagent/impl/component.cljs"],[1572644390617,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^A","^?","^1O","^2<","^F","^1N","^1M"]]],["^18","clojure/walk.cljs"],[1575939134240,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T"]]],["^18","goog/structs/map.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","~$goog.iter.Iterator","~$goog.iter.StopIteration"]]],["^18","goog/html/safehtml.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1T","^1U","~$goog.dom.TagName","~$goog.dom.tags","^2R","^2S","~$goog.html.SafeStyleSheet","^2N","^1Y","^2L","^1Z","^1[","^24","^1V","^20","^21","^1W"]]],["^18","goog/dom/tags.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1V"]]],["^18","goog/math/size.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U"]]],["^1E","node_modules/scheduler/index.js"],[1576480117000,1576480117000,499162500000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J","~$module$node_modules$scheduler$cjs$scheduler_production_min","~$module$node_modules$scheduler$cjs$scheduler_development"]]],["^18","goog/labs/useragent/engine.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1T","^1R","^1S"]]],["^18","goog/dom/dom.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1T","^1U","~$goog.dom.BrowserFeature","~$goog.dom.NodeType","^2W","~$goog.dom.safe","^2Q","^2T","~$goog.math.Coordinate","~$goog.math.Size","^1V","^1S","~$goog.string.Unicode","~$goog.userAgent"]]],["^18","goog/asserts/asserts.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","~$goog.debug.Error","^31"]]],["^18","goog/uri/uri.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1T","^1U","^1S","~$goog.structs","~$goog.structs.Map","~$goog.uri.utils","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"]]],["^18","goog/i18n/bidi.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U"]]],["^1E","node_modules/object-assign/index.js"],[1576480117000,1576480117000,1484580833000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J"]]],["^18","re_frame/db.cljc"],[1572644389801,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^29"]]],["^18","goog/fs/url.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U"]]],["^18","goog/base.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",[]]],["^18","goog/structs/structs.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1T","^1V"]]],["^18","clojure/string.cljs"],[1575939134240,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^1S","~$goog.string.StringBuffer"]]],["^1E","node_modules/create-react-class/index.js"],[1576480117000,1576480117000,1517346956000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J","^?","~$module$node_modules$create_react_class$factory"]]],["^18","re_frame/cofx.cljc"],[1572644389801,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^S","^2K","^2J","^2:"]]],["^1E","node_modules/react/cjs/react.production.min.js"],[1576480117000,1576480117000,499162500000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J","^2>"]]],["^18","goog/debug/entrypointregistry.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1U"]]],["^18","goog/string/string.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^32","^2T","^20","^1W"]]],["^18","re_frame/interceptor.cljc"],[1572644389801,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^2:","^29","^2;","^22"]]],["^18","clojure/data.cljs"],[1575939134240,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^22"]]],["^18","goog/reflect/reflect.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U"]]],["^18","goog/labs/useragent/util.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1W"]]],["^18","reagent/core.cljs"],[1572644390617,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^?","~$reagent.impl.template","^2E","^1O","^2<","^F","^1M","^1N","~$reagent.dom"]]],["^18","goog/string/stringbuffer.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U"]]],["^18","goog/math/coordinate.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","~$goog.math"]]],["^18","re_frame/std_interceptors.cljc"],[1572644389801,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^2K","^2:","^2J","^S","~$clojure.data","~$re-frame.cofx","^2I","^2;"]]],["^18","goog/iter/iter.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1T","^1U","^2P","^3A"]]],["^18","goog/async/nexttick.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","~$goog.debug.entryPointRegistry","~$goog.dom","^2W","^32","^2P","^2Q","^1Y","^24","^25","^20"]]],["^18","goog/html/uncheckedconversions.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1U","^2Q","^2R","^2S","^2Y","^2N","^1Y","^20","^1W"]]],["^18","re_frame/utils.cljc"],[1572644389801,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^2:"]]],["^18","reagent/dom.cljs"],[1572644390617,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^C","^1O","^3?","^2<","^F","^1M","^1N"]]],["^18","re_frame/fx.cljc"],[1572644389801,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","~$re-frame.router","^S","^2K","^29","^28","^2J","^2:","^2;"]]],["^1E","node_modules/prop-types/lib/ReactPropTypesSecret.js"],[1576480117000,1576480117000,1549571078000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J"]]],["^18","reagent/interop.cljs"],[1572644390617,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T"]]],["^18","goog/dom/htmlelement.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U"]]],["^18","cljs/core.cljs"],[1575939134240,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["~$goog.math.Long","~$goog.math.Integer","^1S","^1V","^1T","~$goog.Uri","^3="]]],["^18","goog/html/safescript.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1U","^2L","^20","^21"]]],["^18","reagent/debug.cljs"],[1572644390617,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T"]]],["^18","goog/html/safestylesheet.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1T","^1U","^2S","^1V","^20","^21","^1W"]]],["^18","goog/math/integer.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^27"]]],["^18","goog/dom/browserfeature.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^36"]]],["^1E","node_modules/scheduler/tracing.js"],[1576480117000,1576480117000,499162500000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J","~$module$node_modules$scheduler$cjs$scheduler_tracing_production_min","~$module$node_modules$scheduler$cjs$scheduler_tracing_development"]]],["^1E","node_modules/react-dom/cjs/react-dom.development.js"],[1576480117000,1576480117000,499162500000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J","^?","^2>","^2F","^2H","~$module$node_modules$scheduler$tracing"]]],["^18","clojure/set.cljs"],[1575939134240,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T"]]],["^18","goog/uri/utils.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1T","^1U","^1S"]]],["^18","goog/string/const.js"],[1574743498088,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^1U","^21"]]],["^1E","node_modules/fbjs/lib/invariant.js"],[1576480117000,1576480117000,1528785400000,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^1J"]]],["^18","re_frame/trace.cljc"],[1572644389801,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^29","^2:","^2P"]]],["^18","re_frame/subs.cljc"],[1572644389801,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^S","^29","^2:","^2I","^2J","^2;"]]],["^18","re_frame/core.cljc"],[1572644389801,"^1F",["^ ","^1G",null,"^1H",["^H",[]],"^1I",["^U","^T","^28","~$re-frame.subs","^29","^S","~$re-frame.fx","^3C","^3F","^2:","^2J","^2K","~$re-frame.std-interceptors","^22"]]]]],"~:clj-info",["^ ","jar:file:/home/porky/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/js_deps.cljc",1575939134000,"jar:file:/home/porky/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/util.cljc",1575939134000,"jar:file:/home/porky/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/core.clj",1572766019000,"jar:file:/home/porky/.m2/repository/org/clojure/data.json/0.2.6/data.json-0.2.6.jar!/clojure/data/json.clj",1572628395000,"jar:file:/home/porky/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/impl/inspect.clj",1574169245000,"jar:file:/home/porky/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/debug.clj",1572644390000,"jar:file:/home/porky/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/edn.clj",1572766019000,"jar:file:/home/porky/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/instant.clj",1572766019000,"jar:file:/home/porky/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/interop.clj",1572644390000,"jar:file:/home/porky/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/pprint.clj",1572766019000,"jar:file:/home/porky/.m2/repository/re-frame/re-frame/0.10.8/re-frame-0.10.8.jar!/re_frame/interop.clj",1572644389000,"jar:file:/home/porky/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/externs.clj",1575939134000,"jar:file:/home/porky/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/source_map/base64.clj",1575939134000,"jar:file:/home/porky/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/core.clj",1572644390000,"jar:file:/home/porky/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader.clj",1574169245000,"jar:file:/home/porky/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/source_map/base64_vlq.clj",1575939134000,"jar:file:/home/porky/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/compiler.cljc",1575939134000,"jar:file:/home/porky/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/impl/errors.clj",1574169245000,"jar:file:/home/porky/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/analyzer.cljc",1575939134000,"jar:file:/home/porky/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/default_data_readers.clj",1574169245000,"jar:file:/home/porky/.m2/repository/net/cgrand/macrovich/0.2.1/macrovich-0.2.1.jar!/net/cgrand/macrovich.cljc",1572628426000,"jar:file:/home/porky/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/java/io.clj",1572766019000,"jar:file:/home/porky/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/env.cljc",1575939134000,"jar:file:/home/porky/.m2/repository/re-frame/re-frame/0.10.8/re-frame-0.10.8.jar!/re_frame/trace.cljc",1572644389000,"jar:file:/home/porky/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/ratom.clj",1572644390000,"jar:file:/home/porky/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/source_map.clj",1575939134000,"jar:file:/home/porky/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/core.cljc",1575939134000,"jar:file:/home/porky/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/tagged_literals.cljc",1575939134000,"jar:file:/home/porky/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/string.clj",1572766019000,"jar:file:/home/porky/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/set.clj",1572766019000,"jar:file:/home/porky/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/reader_types.clj",1574169245000],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",1,"^8",5,"^9",1,"^:",23],"^;",["^ ","^<","^=","^>","^?","^@","^A","^B","^C"],"^D",["^ ","^E","^F"],"^G",["^H",[]],"^I","^J","^M",null,"^N",["^ ","^O","^O","^P","^O","^Q","^Q","^R","^Q","^S","^S","^T","^T","^U","^U"],"^V",["^H",["^W","^X"]],"~:shadow/js-access-global",["^H",["Error"]],"^Y",["^ ","^Z","^S"],"~:defs",["^ ","~$undo-handler",["^ ","~:protocol-inline",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",148,"^8",7,"^9",148,"^:",19,"~:arglists",["^10",["~$quote",["^10",[["~$_",["~$_","~$n"]]]]]]],"^I","~$day8.re-frame.undo/undo-handler","^6","day8/re_frame/undo.cljs","^:",19,"~:method-params",["^10",[["~$_","~$p__42135"]]],"~:protocol-impl",null,"~:arglists-meta",["^10",[null,null]],"^8",1,"~:variadic?",false,"^7",148,"~:ret-tag","~$cljs.core/IMap","^9",148,"~:max-fixed-arity",2,"~:fn-var",true,"^4I",["^10",["^4J",["^10",[["~$_",["~$_","~$n"]]]]]]],"~$purge-redo-handler",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",178,"^8",7,"^9",178,"^:",25,"^4I",["^10",["^4J",["^10",[["~$db","~$_"]]]]]],"^I","~$day8.re-frame.undo/purge-redo-handler","^6","day8/re_frame/undo.cljs","^:",25,"^4L",["^10",[["^4V","~$_"]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",178,"^9",178,"^4S",2,"^4T",true,"^4I",["^10",["^4J",["^10",[["^4V","~$_"]]]]]],"~$undo-n",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",140,"^8",7,"^9",140,"^:",13,"^4I",["^10",["^4J",["^10",[["~$n"]]]]],"~:doc","undo n steps or until we run out of undos"],"^I","~$day8.re-frame.undo/undo-n","^6","day8/re_frame/undo.cljs","^:",13,"^4L",["^10",[["~$n"]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",140,"^4Q","~$clj-nil","^9",140,"^4S",1,"^4T",true,"^4I",["^10",["^4J",["^10",[["~$n"]]]]],"^4Y","undo n steps or until we run out of undos"],"~$undo-explanations",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",90,"^8",7,"^9",90,"^:",24,"^4I",["^10",["^4J",["^10",[[]]]]],"^4Y","Returns a vector of undo descriptions, perhaps empty"],"^I","~$day8.re-frame.undo/undo-explanations","^6","day8/re_frame/undo.cljs","^:",24,"^4L",["^10",[[]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",90,"^4Q","~$clj","^9",90,"^4S",0,"^4T",true,"^4I",["^10",["^4J",["^10",[[]]]]],"^4Y","Returns a vector of undo descriptions, perhaps empty"],"~$app-explain",["^ ","^5",["^ ","^6","day8/re_frame/undo.cljs","^7",44,"^8",6,"^9",44,"^:",17],"^I","~$day8.re-frame.undo/app-explain","^6","day8/re_frame/undo.cljs","^:",17,"^8",1,"^7",44,"^9",44,"~:tag","~$reagent.ratom/RAtom","^4Y","Mirrors app-db"],"~$clear-undos!",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",48,"^8",7,"^9",48,"^:",19,"^4I",["^10",["^4J",["^10",[[]]]]]],"^I","~$day8.re-frame.undo/clear-undos!","^6","day8/re_frame/undo.cljs","^:",19,"^4L",["^10",[[]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",48,"^4Q",["^H",[null,"~$any"]],"^9",48,"^4S",0,"^4T",true,"^4I",["^10",["^4J",["^10",[[]]]]]],"~$redos?",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",85,"^8",7,"^9",85,"^:",13,"^4I",["^10",["^4J",["^10",[[]]]]],"^4Y","Returns true if redos exist, false otherwise"],"^I","~$day8.re-frame.undo/redos?","^6","day8/re_frame/undo.cljs","^:",13,"^4L",["^10",[[]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",85,"^4Q","~$seq","^9",85,"^4S",0,"^4T",true,"^4I",["^10",["^4J",["^10",[[]]]]],"^4Y","Returns true if redos exist, false otherwise"],"~$undo-explain-list",["^ ","^5",["^ ","^6","day8/re_frame/undo.cljs","^7",45,"^8",6,"^9",45,"^:",23],"^I","~$day8.re-frame.undo/undo-explain-list","^6","day8/re_frame/undo.cljs","^:",23,"^8",1,"^7",45,"^9",45,"^55","^56","^4Y","Mirrors undo-list"],"~$redo-handler",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",171,"^8",7,"^9",171,"^:",19,"^4I",["^10",["^4J",["^10",[["~$_",["~$_","~$n"]]]]]]],"^I","~$day8.re-frame.undo/redo-handler","^6","day8/re_frame/undo.cljs","^:",19,"^4L",["^10",[["~$_","~$p__42148"]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",171,"^4Q","^4R","^9",171,"^4S",2,"^4T",true,"^4I",["^10",["^4J",["^10",[["~$_",["~$_","~$n"]]]]]]],"~$config",["^ ","^I","~$day8.re-frame.undo/config","^6","day8/re_frame/undo.cljs","^7",11,"^8",1,"^9",11,"^:",12,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",11,"^8",6,"^9",11,"^:",12],"^55","~$cljs.core/Atom"],"~$redo",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",155,"^8",7,"^9",155,"^:",11,"^4I",["^10",["^4J",["^10",[["~$harvester","~$reinstater","~$undos","~$cur","~$redos"]]]]]],"^I","~$day8.re-frame.undo/redo","^6","day8/re_frame/undo.cljs","^:",11,"^4L",["^10",[["^5F","^5G","^5H","^5I","^5J"]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",155,"^4Q",["^H",[null,"^59"]],"^9",155,"^4S",5,"^4T",true,"^4I",["^10",["^4J",["^10",[["^5F","^5G","^5H","^5I","^5J"]]]]]],"~$register-events-subs!",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",220,"^8",7,"^9",220,"^:",28,"^4I",["^10",["^4J",["^10",[[]]]]]],"^I","~$day8.re-frame.undo/register-events-subs!","^6","day8/re_frame/undo.cljs","^:",28,"^4L",["^10",[[]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",220,"^4Q","^59","^9",220,"^4S",0,"^4T",true,"^4I",["^10",["^4J",["^10",[[]]]]]],"~$undoable",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",188,"^8",7,"^9",188,"^:",15,"^4I",["^10",["^4J",["^10",[[],["~$explanation"]]]]],"^4Y","returns a side-effecting Interceptor, which stores an undo checkpoint in\n  `:after` processing.\n   If the `:effect` cotnains an `:undo` key, then use the explanation provided\n   by it. Otherwise, `explanation` can be:\n     - a string (of explanation)\n     - a function expected to return a string of explanation. It will be called\n       with two arguments: `db` and `event-vec`.\n     - a nil, in which case \"\" is recorded as the explanation\n  ","~:top-fn",["^ ","^4P",false,"~:fixed-arity",1,"^4S",1,"^4L",["^10",[[],["^5O"]]],"^4I",["^10",[[],["^5O"]]],"^4O",["^10",[null,null]]]],"^I","~$day8.re-frame.undo/undoable","^6","day8/re_frame/undo.cljs","^:",15,"^5P",["^ ","^4P",false,"^5Q",1,"^4S",1,"^4L",["^10",[[],["^5O"]]],"^4I",["^10",[[],["^5O"]]],"^4O",["^10",[null,null]]],"^4L",["^10",[[],["^5O"]]],"^4N",null,"^5Q",1,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"~:methods",[["^ ","^5Q",0,"^4P",false,"^55","^59"],["^ ","^5Q",1,"^4P",false,"^55","^59"]],"^7",188,"^9",188,"^4S",1,"^4T",true,"^4I",["^10",[[],["^5O"]]],"^4Y","returns a side-effecting Interceptor, which stores an undo checkpoint in\n  `:after` processing.\n   If the `:effect` cotnains an `:undo` key, then use the explanation provided\n   by it. Otherwise, `explanation` can be:\n     - a string (of explanation)\n     - a function expected to return a string of explanation. It will be called\n       with two arguments: `db` and `event-vec`.\n     - a nil, in which case \"\" is recorded as the explanation\n  "],"~$store-now!",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",67,"^8",7,"^9",67,"^:",17,"^4I",["^10",["^4J",["^10",[["^5O"]]]]],"^4Y","Stores the value currently in app-db, so the user can later undo"],"^I","~$day8.re-frame.undo/store-now!","^6","day8/re_frame/undo.cljs","^:",17,"^4L",["^10",[["^5O"]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",67,"^4Q",["^H",[null,"^59"]],"^9",67,"^4S",1,"^4T",true,"^4I",["^10",["^4J",["^10",[["^5O"]]]]],"^4Y","Stores the value currently in app-db, so the user can later undo"],"~$redo-explain-list",["^ ","^5",["^ ","^6","day8/re_frame/undo.cljs","^7",46,"^8",6,"^9",46,"^:",23],"^I","~$day8.re-frame.undo/redo-explain-list","^6","day8/re_frame/undo.cljs","^:",23,"^8",1,"^7",46,"^9",46,"^55","^56","^4Y","Mirrors redo-list"],"~$redo-list",["^ ","^5",["^ ","^6","day8/re_frame/undo.cljs","^7",36,"^8",6,"^9",36,"^:",15],"^I","~$day8.re-frame.undo/redo-list","^6","day8/re_frame/undo.cljs","^:",15,"^8",1,"^7",36,"^9",36,"^55","^56","^4Y","A list of future states, caused by undoing"],"~$undo-config!",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",15,"^8",7,"^9",15,"^:",19,"^4I",["^10",["^4J",["^10",[["~$new-config"]]]]],"^4Y","Set configuration parameters for library.\n\n  Should be called on app startup."],"^I","~$day8.re-frame.undo/undo-config!","^6","day8/re_frame/undo.cljs","^:",19,"^4L",["^10",[["^5["]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",15,"^4Q",["^H",[null,"^59"]],"^9",15,"^4S",1,"^4T",true,"^4I",["^10",["^4J",["^10",[["^5["]]]]],"^4Y","Set configuration parameters for library.\n\n  Should be called on app startup."],"~$redo-n",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",163,"^8",7,"^9",163,"^:",13,"^4I",["^10",["^4J",["^10",[["~$n"]]]]],"^4Y","redo n steps or until we run out of redos"],"^I","~$day8.re-frame.undo/redo-n","^6","day8/re_frame/undo.cljs","^:",13,"^4L",["^10",[["~$n"]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",163,"^4Q","^4[","^9",163,"^4S",1,"^4T",true,"^4I",["^10",["^4J",["^10",[["~$n"]]]]],"^4Y","redo n steps or until we run out of redos"],"~$undo",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",131,"^8",7,"^9",131,"^:",11,"^4I",["^10",["^4J",["^10",[["^5F","^5G","^5H","^5I","^5J"]]]]]],"^I","~$day8.re-frame.undo/undo","^6","day8/re_frame/undo.cljs","^:",11,"^4L",["^10",[["^5F","^5G","^5H","^5I","^5J"]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",131,"^4Q",["^H",[null,"^59"]],"^9",131,"^4S",5,"^4T",true,"^4I",["^10",["^4J",["^10",[["^5F","^5G","^5H","^5I","^5J"]]]]]],"~$clear-redos!",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",54,"^8",7,"^9",54,"^:",19,"^4I",["^10",["^4J",["^10",[[]]]]]],"^I","~$day8.re-frame.undo/clear-redos!","^6","day8/re_frame/undo.cljs","^:",19,"^4L",["^10",[[]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",54,"^4Q",["^H",[null,"^59"]],"^9",54,"^4S",0,"^4T",true,"^4I",["^10",["^4J",["^10",[[]]]]]],"~$max-undos",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",27,"^8",7,"^9",27,"^:",16,"^4I",["^10",["^4J",["^10",[[]]]]]],"^I","~$day8.re-frame.undo/max-undos","^6","day8/re_frame/undo.cljs","^:",16,"^4L",["^10",[[]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",27,"^4Q","^59","^9",27,"^4S",0,"^4T",true,"^4I",["^10",["^4J",["^10",[[]]]]]],"~$undo-list",["^ ","^5",["^ ","^6","day8/re_frame/undo.cljs","^7",35,"^8",6,"^9",35,"^:",15],"^I","~$day8.re-frame.undo/undo-list","^6","day8/re_frame/undo.cljs","^:",15,"^8",1,"^7",35,"^9",35,"^55","^56","^4Y","A list of history states"],"~$clear-history!",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",60,"^8",7,"^9",60,"^:",21,"^4I",["^10",["^4J",["^10",[[]]]]]],"^I","~$day8.re-frame.undo/clear-history!","^6","day8/re_frame/undo.cljs","^:",21,"^4L",["^10",[[]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",60,"^4Q",["^H",[null,"^59"]],"^9",60,"^4S",0,"^4T",true,"^4I",["^10",["^4J",["^10",[[]]]]]],"~$undos?",["^ ","^4H",null,"^5",["^ ","^6","day8/re_frame/undo.cljs","^7",80,"^8",7,"^9",80,"^:",13,"^4I",["^10",["^4J",["^10",[[]]]]],"^4Y","Returns true if undos exist, false otherwise"],"^I","~$day8.re-frame.undo/undos?","^6","day8/re_frame/undo.cljs","^:",13,"^4L",["^10",[[]]],"^4N",null,"^4O",["^10",[null,null]],"^8",1,"^4P",false,"^7",80,"^4Q","^5<","^9",80,"^4S",0,"^4T",true,"^4I",["^10",["^4J",["^10",[[]]]]],"^4Y","Returns true if undos exist, false otherwise"]],"^X",["^ ","^F","^F","^T","^T","^O","^O","^P","^O"],"~:cljs.analyzer/constants",["^ ","^V",["^H",["~:else","~:db","~:redo","~:warn","~:undoable","~:event","~:after","~:undo","~:id","~:effects","~:max-undos","~:undos?","~:error","~:purge-redos","~:reinstate-fn","~:undo-explanations","~:redo-explanations","~:harvest-fn","~:redos?"]],"~:order",["^6J","^6Q","^6N","^6L","^6K","^6R","^6O","^6P","^6C","^6H","^6D","^6F","^6E","^6G","^6A","^6@","^6I","^6B","^6M"]],"^14",["^ ","^X",["^H",[]],"^W",["^H",[]]],"^15",["^ "],"^16",["^U","^T","^O","^Q","^S"]],"^L","^J","~:ns-specs",["^ "],"~:ns-spec-vars",["^H",[]],"~:compiler-options",["^1D",[["^6V","~:static-fns"],true,["^6V","~:shadow-tweaks"],null,["^6V","~:elide-asserts"],false,["^6V","~:optimize-constants"],null,["^6V","^1;"],null,["^6V","~:external-config"],null,["^6V","~:tooling-config"],null,["^6V","~:emit-constants"],null,["^6V","~:load-tests"],null,["^6V","~:form-size-threshold"],null,["^6V","~:infer-externs"],true,["^6V","^1="],null,["~:js-options","~:js-provider"],"~:shadow",["~:mode"],"~:dev",["^6V","~:fn-invoke-direct"],null,["^6V","~:source-map"],"/dev/null"]]]